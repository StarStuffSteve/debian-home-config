FROM debian:stretch-slim

# Expose port used by Redis
EXPOSE 6379

# Add and run start script on boot
COPY ./config/scripts /scripts
RUN /scripts/init.sh

# Add redis config
COPY ./config/redis.conf /etc/redis/redis.conf

# Add executable 
WORKDIR /app
ADD ./code/build/RunSimulation /app

CMD /scripts/start.sh
